server {
    listen localhost:8080;
    server_name redir-local.com

    # Base configuration (keep existing)
    location {
        path /
        root /workspaces/42_webserv/Webserv/_SystemTests/_Manual/Redirection/
    }

    # Test Cases for Additional Status Codes

    # 307 Temporary Redirect (similar to 302 but maintains request method)
    location {
        path /temp-redirect
        return 307:/legacy-folder
    }

    # 308 Permanent Redirect (similar to 301 but maintains request method)
    location {
        path /perm-redirect
        return 308:/legacy-folder
    }

    # Edge Cases and Special Scenarios

    # 1. Redirect Chain
    location {
        path /redirect-chain-1
        return 301:/redirect-chain-2
    }

    location {
        path /redirect-chain-2
        return 301:/legacy-folder
    }

    # 2. Query String Handling
    location {
        path /query-test
        return 301:/legacy-folder?param=preserved
    }

    # 3. Fragment Handling
    location {
        path /fragment-test
        return 301:/legacy-folder#section1
    }

    # 4. Special Characters in Path
    location {
        path /special chars
        return 301:/legacy-folder
    }

    # 5. External Redirects
    location {
        path /external
        return 302:https://www.42.fr
    }

    # 6. Directory Trailing Slash
    location {
        path /no-slash
        return 301:/legacy-folder/
    }

    # 7. Port Handling
    location {
        path /port-test
        return 301:http://redir-local.com:8081/legacy-folder
    }

    # 8. Empty Target (should return 400 Bad Request)
    location {
        path /empty-target
        return 301:
    }

    # 9. Relative Path with Query
    location {
        path /relative-query
        return 302:legacy-folder?key=value
    }

    # 10. Multiple Slashes
    location {
        path /multiple////slashes
        return 301:/legacy-folder
    }
}